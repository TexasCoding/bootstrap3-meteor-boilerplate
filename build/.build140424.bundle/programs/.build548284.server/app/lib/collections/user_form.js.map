{"version":3,"sources":["meteor://ðŸ’»app/lib/collections/user_form.js"],"names":[],"mappings":"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","file":"/lib/collections/user_form.js","sourcesContent":["Schema.UserCountry = new SimpleSchema({\n  name: {\n    type: String,\n    regEx: /^[A-Za-z _]*$/,\n    label: 'Country'\n  },\n  code: {\n    type: String,\n    regEx: /^[A-Z]{2}$/\n  }\n});\n\nSchema.UserProfile = new SimpleSchema({\n  firstName: {\n    type: String,\n    label: 'First name',\n    regEx: /^[A-Za-z _]*$/,\n    max: 25\n  },\n  lastName: {\n    type: String,\n    label: 'Last name',\n    regEx: /^[A-Za-z _]*$/,\n    max: 25\n  },\n  address: {\n    type: Schema.Address,\n    optional: false\n  },\n  phone: {\n    type: String,\n    regEx: /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,\n    optional: true\n  },\n  fax: {\n    type: String,\n    regEx: /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,\n    optional: true\n  },\n  cell: {\n    type: String,\n    regEx: /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,\n    optional: true\n  },\n  birthday: {\n    type: Date,\n    optional: true\n  },\n  gender: {\n    type: String,\n    allowedValues: ['Male', 'Female'],\n    optional: true\n  },\n  organization: {\n    type: String,\n    optional: true\n  },\n  website: {\n    type: String,\n    regEx: SimpleSchema.RegEx.Url,\n    optional: true\n  },\n  bio: {\n    type: String,\n    optional: true\n  },\n  country: {\n    type: Schema.UserCountry,\n    optional: true\n  }\n});\n\nSchema.UserForm = new SimpleSchema({\n  username: {\n    type: String,\n    unique: true,\n    custom: function() {\n      if (Meteor.isClient && this.isSet) {\n        Meteor.call(\"accountsIsUsernameAvailable\", this.value, function(error, result) {\n          if (!result) {\n            Schema.UserForm.namedContext(\"authRegister\").addInvalidKeys([{\n              name: \"username\",\n              type: \"notUnique\"\n            }]);\n          }\n        });\n      }\n    },\n    regEx: /^[a-zA-Z0-9]{2,25}$/\n  },\n  email: {\n    type: String,\n    unique: true,\n    custom: function() {\n      if (Meteor.isClient && this.isSet) {\n        Meteor.call(\"accountsIsEmailAvailable\", this.value, function(error, result) {\n          if (!result) {\n            Schema.UserForm.namedContext(\"authRegister\").addInvalidKeys([{\n              name: \"email\",\n              type: \"notUnique\"\n            }]);\n          }\n        });\n      }\n    },\n    regEx: SimpleSchema.RegEx.Email\n  },\n  password: {\n    type: String,\n    label: \"Password\",\n    min: 6\n  },\n  passwordConfirmation: {\n    type: String,\n    min: 6,\n    label: \"Password Confirmation\",\n    custom: function() {\n      if (this.value !== this.field('password').value) {\n        return \"passwordMissmatch\";\n      }\n    }\n  },\n\n  profile: {\n    type: Schema.UserProfile\n  }\n});\n"]}